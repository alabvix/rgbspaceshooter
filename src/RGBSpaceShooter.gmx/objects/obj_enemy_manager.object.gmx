<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>_can_create_enemy = true 
_can_create_enemy2 = true 

_enemy_type2 = irandom_range(6, 6)

_enemy_index = 0 // the enemy index in the stage enemy array
_enemy_type  = global.STAGE_ENEMIES[global.game_stage,_enemy_index] //irandom_range(2, 5)

// counter for create an enemy
_time_counter = 0
_time_counter2 = 0
_time_counter3 = 0
_time_counter4 = 0

// counter for firs wave
_wave_counter = true
_first_wave_counter = 0

_total_monster_killed   = 0
_total_monsters_created = 0

_total_monster_2_killed   = 0
_total_monsters_2_created = 0

_total_ship_1_created   = 0
_total_ship_1_destroyed = 0

_total_ship_2_created   = 0
_total_ship_2_destroyed = 0

_total_ship_3_created   = 0
_total_ship_3_destroyed = 0

_total_ship_4_created   = 0
_total_ship_4_destroyed = 0

_total_ship_5_created   = 0
_total_ship_5_destroyed = 0

_total_bomb_created     = 0
_total_bomb_destroyed   = 0

_total_meteor_created = 0
_total_meteor_destroyed = 0

_total_alien_created = 0
_total_alien_destroyed = 0

_total_sub_boss_1_created = 0
_total_sub_boss_1_destroyed = 0

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
// Count time for lauch first wave
if (_wave_counter) {
    _first_wave_counter += 1
    show_debug_message(string(_first_wave_counter ))
    if ( _first_wave_counter &lt;= 100) {
        exit
    } else {
        _wave_counter = false
        _first_wave_counter = 0
    }
}

_time_counter  += 1 
_time_counter2 += 1 
_time_counter3 += 1 
_time_counter4 += 1 

// adjust time counter
if (_time_counter &gt; 10) {
    time_counter = 10
}

//show_debug_message(string(_time_counter ))

if ( round(_time_counter) == 10) {

    if (_enemy_type == global.SUB_BOSS_1) {
       if (_total_sub_boss_1_created &lt; global.TOTAL_SUB_BOSS_1 ) {
           CreateEnemy(_enemy_type)    
           _total_sub_boss_1_created ++;
           _can_create_enemy = false
           show_debug_message("Sub boss 1 created")
       } 
       if (_total_sub_boss_1_destroyed == global.TOTAL_SUB_BOSS_1 ) {
           _total_sub_boss_1_created = 0
           _total_sub_boss_1_destroyed = 0
           _can_create_enemy = true
       }
    }

    if (_enemy_type == global.ENEMY_MONSTER_1) {
       if (_total_monsters_created &lt; global.TOTAL_MONSTERS_1 ) {
           CreateEnemy(_enemy_type)    
           _total_monsters_created ++;
           _can_create_enemy = false
       } 
       if (_total_monster_killed == global.TOTAL_MONSTERS_1) {
           _total_monsters_created = 0
           _total_monster_killed = 0
           _can_create_enemy = true
       }
    }
    
    if (_enemy_type == global.ENEMY_MONSTER_2) {
       if (_total_monsters_2_created &lt; global.TOTAL_MONSTERS_2 ) {
           CreateEnemy(_enemy_type)    
           _total_monsters_2_created ++;
           _can_create_enemy = false
       } 
       if (_total_monster_2_killed == global.TOTAL_MONSTERS_2) {
           _total_monsters_2_created = 0
           _total_monster_2_killed = 0
           _can_create_enemy = true
       }
    }
    
    if (_enemy_type == global.ENEMY_SHIP_1) {
        if (_total_ship_1_created &lt; global.TOTAL_SHIPS_1) {
            CreateEnemy(_enemy_type)    
            _total_ship_1_created ++;
            _can_create_enemy = false
        }
        if (_total_ship_1_destroyed == global.TOTAL_SHIPS_1) {
            _total_ship_1_destroyed = 0
            _total_ship_1_created = 0
            _can_create_enemy = true
        }
    }
    
    if (_enemy_type == global.ENEMY_SHIP_2) {
        if (_total_ship_2_created &lt; global.TOTAL_SHIPS_2) {
            CreateEnemy(_enemy_type)    
            _total_ship_2_created ++
            show_debug_message("Ships 2 created:" + string(_total_ship_2_created))
            _can_create_enemy = false
        }
        if (_total_ship_2_destroyed == global.TOTAL_SHIPS_2) {
            _total_ship_2_destroyed = 0
            _total_ship_2_created = 0
            _can_create_enemy = true
        }
    }
    
    if (_enemy_type == global.ENEMY_SHIP_3) {
        if (_total_ship_3_created &lt; global.TOTAL_SHIPS_3) {
            CreateEnemy(_enemy_type)    
            _total_ship_3_created ++
            show_debug_message("Ships 3 created:" + string(_total_ship_3_created))
            _can_create_enemy = false
        }
        if (_total_ship_3_destroyed == global.TOTAL_SHIPS_3) {
            _total_ship_3_destroyed = 0
            _total_ship_3_created = 0
            _can_create_enemy = true
        }
    }
    
    if (_enemy_type == global.ENEMY_SHIP_4) {
        if (_total_ship_4_created &lt; global.TOTAL_SHIPS_4) {
            CreateEnemy(_enemy_type)    
            _total_ship_4_created ++
            show_debug_message("Ships 4 created:" + string(_total_ship_4_created))
            _can_create_enemy = false
        }
        if (_total_ship_4_destroyed == global.TOTAL_SHIPS_4) {
            _total_ship_4_destroyed = 0
            _total_ship_4_created = 0
            _can_create_enemy = true
        }
    }
    
    if (_enemy_type == global.ENEMY_SHIP_5) {
        if (_total_ship_5_created &lt; global.TOTAL_SHIPS_5) {
            CreateEnemy(_enemy_type)    
            _total_ship_5_created ++
            show_debug_message("Ships 4 created:" + string(_total_ship_5_created))
            _can_create_enemy = false
        }
        if (_total_ship_5_destroyed == global.TOTAL_SHIPS_5) {
            _total_ship_5_destroyed = 0
            _total_ship_5_created = 0
            _can_create_enemy = true
        }
    }
    
    if (_enemy_type == global.ENEMY_BOMB) {
        if (_total_bomb_created &lt; global.TOTAL_BOMBS) {
            CreateEnemy(_enemy_type)    
            _total_bomb_created ++;
            _can_create_enemy = false
        }
        if (_total_bomb_destroyed == global.TOTAL_BOMBS) {
            _total_bomb_destroyed = 0
            _total_bomb_created = 0
            _can_create_enemy = true
        }
    }
    
    if (_enemy_type == global.ENEMY_ALIEN) {
        if (_total_alien_created &lt; global.TOTAL_ALIEN) {
            CreateEnemy(_enemy_type)    
            _total_alien_created ++;
            _can_create_enemy = false
        }
        if (_total_alien_destroyed == global.TOTAL_ALIEN) {
            _total_alien_destroyed = 0
            _total_alien_created = 0
            _can_create_enemy = true
        }
    }
    
    // Determine enemy type
    _time_counter = 0
    if (_can_create_enemy) {
       //_enemy_type = irandom_range(1,5)
       _enemy_index ++
       if (_enemy_index == array_length_2d(global.STAGE_ENEMIES, global.selected_planet)){
          // end of stage
          _enemy_index = 0
       }
       _enemy_type = global.STAGE_ENEMIES[global.selected_planet, _enemy_index]
       show_debug_message(string(_enemy_type))
    }
    
}

// Second enemies
if ( round(_time_counter2) == 55) {
    if (_enemy_type2 == global.SECOND_WAVE_ENEMY_METEOR) {
       if (_total_meteor_created &lt; global.TOTAL_METEORS ) {
           CreateEnemy(_enemy_type2)    
           _total_meteor_created ++;
           _can_create_enemy2 = false
       } 
       if (_total_meteor_destroyed == global.TOTAL_METEORS) {
           _total_meteor_destroyed = 0
           _total_meteor_created = 0
           _can_create_enemy2 = true
       }
    }
    _time_counter2 = 0
    if (_can_create_enemy2) {
       _enemy_type2 = global.SECOND_WAVE_ENEMY_METEOR//just meteor
    }
}

// Special ships
if (round(_time_counter3) == 200) {
    CreateEnemy(global.SPECIAL_CARGO_SHIP) 
    _time_counter3 = 0
}

// Ammo
if (round(_time_counter4) == 400) {
    vx = irandom_range(1, room_width)
    vy = irandom_range(-10, -20)
    item = irandom_range(1,3)
    LiberateIten(item,vx,vy)
    _time_counter4 = 0
}



</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
